# Development Environment Variables
# All environment variables must be set explicitly. No defaults or localhost allowed.
# Example values below must be replaced for your environment.

PORT=5000
HOST=127.0.0.1
# Supabase PostgreSQL database for development
# DATABASE_URL=postgresql://postgres:A12azwVwd1JeT5yG@db.rbvjzsasjrnycvphispd.supabase.co:5432/postgres?sslmode=disable

# Railway PostgreSQL database for migration (use when needed)
# DATABASE_URL=postgresql://postgres:eCJZjkRuHVexSoNbftExVjPldoWIcvtB@switchyard.proxy.rlwy.net:22092/railway

# Disabled - Aiven database (moved to test environment only)
DATABASE_URL=postgres://avnadmin:AVNS_Gr-3uSaTzidPW5i1EcP@pg-2a0a4062-aivoicetranslator.d.aivencloud.com:26621/defaultdb?sslmode=require

# Disabled Neon (moved to paid plan)
# DATABASE_URL=postgresql://neondb_owner:npg_8VHatecgqv4Z@ep-silent-sun-a29jrxc7-pooler.eu-central-1.aws.neon.tech/neondb?sslmode=require
OPENAI_API_KEY=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
VITE_API_URL=http://127.0.0.1:5000
VITE_WS_URL=ws://127.0.0.1:5000
DEFAULT_PORT=3001
LOG_LEVEL=info
NODE_ENV=development
STORAGE_TYPE=database

# Communication Protocol Configuration
COMMUNICATION_PROTOCOL=websocket

# Session Security
SESSION_SECRET=dev-session-secret-change-in-production

# Analytics Security
ANALYTICS_PASSWORD=analytics123

# Redis Configuration (if using Redis for session storage)
REDIS_URL=redis://localhost:6379

# TTS Service Configuration
TTS_SERVICE_TYPE=local

# STT/Transcription Service Configuration  

# Translation Service Configuration
# TRANSLATION_SERVICE_TYPE=mymemory  # DISABLED - causes rate limits

# Audio Processing Configuration
MIN_AUDIO_DATA_LENGTH=100
MIN_AUDIO_BUFFER_LENGTH=100

# Logging Configuration
LOG_TEXT_PREVIEW_LENGTH=100
ENABLE_DETAILED_TRANSLATION_LOGGING=true

# Optional: Session Timing Overrides (uncomment to override defaults)
# Uncomment and set these only if you need to override production defaults
# SESSION_VERY_SHORT_THRESHOLD_MS=5000
# SESSION_STALE_TIMEOUT_MS=5400000
# SESSION_ALL_STUDENTS_LEFT_TIMEOUT_MS=600000
# SESSION_EMPTY_TEACHER_TIMEOUT_MS=900000
# SESSION_CLEANUP_INTERVAL_MS=120000
# CLASSROOM_CODE_EXPIRATION_MS=7200000
# CLASSROOM_CODE_CLEANUP_INTERVAL_MS=900000
# HEALTH_CHECK_INTERVAL_MS=30000
# TEACHER_RECONNECTION_GRACE_PERIOD_MS=300000
# SESSION_EXPIRED_MESSAGE_DELAY_MS=1000
# INVALID_CLASSROOM_MESSAGE_DELAY_MS=100

# --- Added from .env.test and .env.example for backend completeness ---
# Client-side timeout configurations for Vite (milliseconds)
VITE_WS_MAX_RECONNECT_ATTEMPTS=5
VITE_WS_RECONNECT_DELAY_MS=3000
VITE_SPEECH_RECOGNITION_RESTART_DELAY_MS=100
VITE_MOCK_AUDIO_DATA_DELAY_MS=150
VITE_ELEMENT_VISIBILITY_TIMEOUT_MS=10000
VITE_CONNECTION_STATUS_TIMEOUT_MS=10000
VITE_TEACHER_REGISTRATION_TIMEOUT_MS=10000
VITE_RECORD_BUTTON_TIMEOUT_MS=5000
VITE_SPEECH_RECOGNITION_UNAVAILABLE_TIMEOUT_MS=3000
VITE_WAIT_TIMEOUT_MS=1000
VITE_SHORT_WAIT_TIMEOUT_MS=500
VITE_ADJUSTABLE_WAIT_TIMEOUT_MS=1500

# E2E/Test-only variables (not needed in production, but listed for completeness)
# PLAYWRIGHT_SERVER_STARTUP_TIMEOUT_MS=120000
# TEST_ELEMENT_VISIBILITY_TIMEOUT_MS=10000
# TEST_CONNECTION_STATUS_TIMEOUT_MS=10000
# TEST_TEACHER_REGISTRATION_TIMEOUT_MS=10000
# TEST_RECORD_BUTTON_TIMEOUT_MS=5000
# TEST_SPEECH_RECOGNITION_UNAVAILABLE_TIMEOUT_MS=3000
# TEST_SHORT_WAIT_MS=500
# TEST_STANDARD_WAIT_MS=1000
# TEST_ADJUSTABLE_WAIT_MS=1500
# TEST_MOCK_AUDIO_DATA_DELAY_MS=150
# TEST_TIMING_SCALE=0.1
# --- End added ---

# Adding STT auto-fallback configuration to .env
STT_SERVICE_TYPE=whispercpp
WHISPER_MODEL=base

# ElevenLabs API Key for TTS auto-fallback (optional - TTS will fallback to browser if missing)
ELEVENLABS_API_KEY=sk_3060e913f8d0bf9439d9d4d0af7227e49e086d6cef550c01
TRANSLATION_SERVICE_TYPE=premium
# Service Configuration - FINAL SETTINGS:
STT_SERVICE_TYPE=openai
TRANSLATION_SERVICE_TYPE=premium
TTS_SERVICE_TYPE=auto
